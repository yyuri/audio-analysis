{"remainingRequest":"/home/yyuri/Documentos/pocSorroll/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yyuri/Documentos/pocSorroll/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/yyuri/Documentos/pocSorroll/src/App.vue","mtime":1603990356787},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXJDaGFydCBmcm9tICcuL2NvbXBvbmVudHMvQmFyQ2hhcnQudnVlJwppbXBvcnQgUmFuZ2VTbGlkZXIgZnJvbSAnLi9jb21wb25lbnRzL1JhbmdlU2xpZGVyLnZ1ZScKaW1wb3J0IExpbmVDaGFydCBmcm9tICcuL2NvbXBvbmVudHMvTGluZUNoYXJ0LnZ1ZScKCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIEJhckNoYXJ0LAogICAgTGluZUNoYXJ0LAogICAgUmFuZ2VTbGlkZXIKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBvcHRpb25zOiB7CiAgICAgIGVsZW1lbnRzOiB7CiAgICAgICAgICBwb2ludDp7CiAgICAgICAgICAgICAgcmFkaXVzOiAwCiAgICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLAogICAgICBwb2ludERvdFJhZGl1czogMSwKICAgICAgcG9pbnREb3RTdHJva2VXaWR0aDogMTgsCiAgICAgIHBvaW50SGl0RGV0ZWN0aW9uUmFkaXVzOiAyMCwKICAgICAgc2NhbGVzOiB7CiAgICAgICAgeUF4ZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgZ3JpZExpbmVzOiB7CiAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgICBvZmZzZXRHcmlkTGluZXM6IGZhbHNlLAogICAgICAgICAgICB9LAogICAgICAgICAgfV0sCiAgICAgICAgICB4QXhlczogW3sKICAgICAgICAgICAgZ3JpZExpbmVzOiB7CiAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgICBvZmZzZXRHcmlkTGluZXM6IGZhbHNlLAogICAgICAgICAgICAgIHplcm9MaW5lV2lkdGg6IDIsCiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogZmFsc2UsCiAgICAgIH0sCiAgICAgIGFuaW1hdGlvbjogewogICAgICAgIGR1cmF0aW9uOiAwCiAgICAgIH0KICAgIH0sCiAgICBkYXRhOiB7CiAgICAgIGxhYmVsczogW10sCiAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgbGFiZWw6ICdTb25vbWV0cmlhIDEnLAogICAgICAgICAgZGF0YTogW10sCiAgICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgIH0KICAgICAgXQogICAgfSwKICAgIHNlbGVjdGFibGU6IGZhbHNlLAogICAgc2VsZWN0aW9uQ29udGV4dDogbnVsbCwKICAgIHNlbGVjdGlvblJlY3Q6IHsKICAgICAgdzogMCwKICAgICAgc3RhcnRYOiAwLAogICAgICBzdGFydFk6IDAsCiAgICAgIHN0YXJ0SW5kZXg6IG51bGwsCiAgICAgIHN0b3BJbmRleDogbnVsbAogICAgfSwKICAgIGNoYXJ0OiBudWxsLAogICAgb3ZlcmxheTogbnVsbCwKICAgIGxhYmVsczogbnVsbCwKICAgIGRhdGFzZXQ6IG51bGwsCiAgICBkYXRhc2V0c3RhcnQ6IDAsCiAgICBkYXRhc2V0ZW5kOiAzNjAsCiAgICByYW5nZTogWzAsMzYwXSwKICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LAogICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLAogICAgcmFuZG9tYmFyczogZmFsc2UsCiAgICBiYWNrZ3JvdW5kY29sb3I6ICdoc2xhKDIsIDEyJSwgNTAlLDAuNCknLAogICAgYm9yZGVyY29sb3I6ICdoc2xhKDIsIDEyJSwgNTAlLDAuNCknLAogICAgcmFuZ2VzZWxlY3Rpb25zOiBbXSwKICAgIGRhdGFBcnJheTogbnVsbCwKICAgIGF1ZGlvOiBudWxsLAogIH0pLAogIG1vdW50ZWQgKCkgewogICAgY29uc3QgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTsKICAgIHRoaXMuYXVkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhdWRpbycpOwogICAgY29uc3Qgc291cmNlID0gYXVkaW9DdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pOwoKICAgIC8vIE9uY2UgdGhlIG1ldGFkYXRhIGhhcyBiZWVuIGxvYWRlZCwgZGlzcGxheSB0aGUgZHVyYXRpb24gaW4gdGhlIGNvbnNvbGUKICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7CiAgICAgICAgLy8gT2J0YWluIHRoZSBkdXJhdGlvbiBpbiBzZWNvbmRzIG9mIHRoZSBhdWRpbyBmaWxlICh3aXRoIG1pbGxpc2Vjb25kcyBhcyB3ZWxsLCBhIGZsb2F0IHZhbHVlKQogICAgICAgIGxldCBkdXJhdGlvbiA9IHBhcnNlSW50KHRoaXMuYXVkaW8uZHVyYXRpb24pOwoKICAgICAgICAvLyBleGFtcGxlIDEyLjMyMzQgc2Vjb25kcwogICAgICAgIGNvbnNvbGUubG9nKCJUaGUgZHVyYXRpb24gb2YgdGhlIHNvbmcgaXMgb2Y6ICIgKyBkdXJhdGlvbiArICIgc2Vjb25kcyIpOwogICAgICAgIC8vIEFsdGVybmF0aXZlbHksIGp1c3QgZGlzcGxheSB0aGUgaW50ZWdlciB2YWx1ZSB3aXRoCiAgICAgICAgLy8gcGFyc2VJbnQoZHVyYXRpb24pMCwgMQogICAgICAgIC8vIDEyIHNlY29uZHMKICAgICAgICB0aGlzLnNldERiKGR1cmF0aW9uKQogICAgfSxmYWxzZSk7CgoKICAgIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9DdHguY3JlYXRlQW5hbHlzZXIoKTsKICAgIGFuYWx5c2VyLmZmdFNpemUgPSA2NDsgLy8yNTYgc2FtcGxlcyAvL1NhbXBsZSByYXRlIGlzIDQ0MTAwaHosIHNvIGdldEJ5dGVGcmVxdWVuY3lEYXRhIGxhc3QgZWxlbWVudCBpcyAyMjA1MGh6CiAgICBsZXQgYnVmZmVyID0gYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQ7CgogICAgdGhpcy5kYXRhQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIpOwoKICAgIHNvdXJjZS5jb25uZWN0KGFuYWx5c2VyKTsKICAgIGFuYWx5c2VyLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwoKCgogICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YSh0aGlzLmRhdGFBcnJheSk7CiAgICAgIHRoaXMucmFuZG9tYmFycyA9ICF0aGlzLnJhbmRvbWJhcnM7CgogICAgfSwgNTApOwoKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldERiKGR1cmF0aW9uKSB7CiAgICAgIGNvbnNvbGUubG9nKCdEdXJhdGlvbiBpczonICsgZHVyYXRpb24pCiAgICAgIHRoaXMuZGF0YXNldGVuZCA9IGR1cmF0aW9uOwogICAgICB0aGlzLnJhbmdlID0gWzAsZHVyYXRpb25dOwogICAgICB0aGlzLmxhYmVscyA9IHRoaXMuZmFrZUxhYmVscygpOwogICAgICB0aGlzLmRhdGFzZXQgPSB0aGlzLmZha2VEYXRhKCk7CiAgICAgIHRoaXMuYmFja2dyb3VuZGNvbG9yID0gJ2hzbCgwLCAwJSwgNTMlLDAuMiknCiAgICAgIHRoaXMuZGF0YSA9IHsKICAgICAgICBsYWJlbHM6IHRoaXMubGFiZWxzLAogICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgICBsYWJlbDogJ1Nvbm9tZXRyaWEgMScsCiAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YXNldCwKICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHRoaXMuYm9yZGVyY29sb3IsCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5iYWNrZ3JvdW5kY29sb3IsCiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLAogICAgICAgICAgICBmaWxsOiB0cnVlLAogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfSwKICAgIGZha2VMYWJlbHMoKSB7CiAgICAgIGxldCBsYWJlbHMgPSBbXTsKICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhc2V0ZW5kKQogICAgICBmb3IobGV0IGk9dGhpcy5kYXRhc2V0c3RhcnQ7IGk8dGhpcy5kYXRhc2V0ZW5kLzYwOyBpKyspIHsKICAgICAgICBsYWJlbHMucHVzaChtb21lbnQoKS5zdGFydE9mKCdkYXknKS5hZGQoMSppLCAnbWludXRlcycpLmZvcm1hdCgnSDptbTpzcycpKQogICAgICB9CiAgICAgIHJldHVybiBsYWJlbHMKICAgIH0sCiAgICBmYWtlRGF0YSgpIHsKICAgICAgbGV0IGRhdGEgPSBbXTsKICAgICAgZm9yKGxldCBpPXRoaXMuZGF0YXNldHN0YXJ0OyBpPHRoaXMuZGF0YXNldGVuZC0xOyBpKyspIHsKICAgICAgICBpZiAoTWF0aC5mbG9vcihpLzIwKSUyKSB7CiAgICAgICAgICBkYXRhLnB1c2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNDApKQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIGRhdGEucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoODAgLSAzMCArIDEpKSArIDMwKQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZGF0YQogICAgfSwKICAgIGNsZWFyQWxsKCkgewogICAgICBsZXQgbGFiZWxzID0gdGhpcy5sYWJlbHMuc2xpY2UodGhpcy5yYW5nZVswXSwgdGhpcy5yYW5nZVsxXSsxKTsKICAgICAgbGV0IGRhdGFzZXQgPSB0aGlzLmRhdGFzZXQuc2xpY2UodGhpcy5yYW5nZVswXSx0aGlzLnJhbmdlWzFdKzEpOwogICAgICB0aGlzLnJhbmdlc2VsZWN0aW9ucyA9IFtdOwogICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAgbGFiZWxzOiBsYWJlbHMsCiAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgIGxhYmVsOiAnU29ub21ldHJpYSAxJywKICAgICAgICAgICAgZGF0YTogZGF0YXNldCwKICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHRoaXMuYm9yZGVyY29sb3IsCiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLAogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuYmFja2dyb3VuZGNvbG9yLAogICAgICAgICAgICBmaWxsOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9OwogICAgfSwKICAgIHNldFJhbmdlKGEpIHsKICAgICAgY29uc29sZS5sb2coYSkKICAgICAgbGV0IHN0YXJ0ID0gYVswXTsKICAgICAgbGV0IGVuZCA9IGFbMV07CiAgICAgIHRoaXMucmFuZ2UgPSBhOwogICAgICBsZXQgbGFiZWxzID0gdGhpcy5sYWJlbHMuc2xpY2Uoc3RhcnQvNjAsIChlbmQrMSkvNjApOwogICAgICBsZXQgZGF0YXNldHMgPSBbXTsKICAgICAgZGF0YXNldHMucHVzaCh0aGlzLmRhdGFzZXQuc2xpY2Uoc3RhcnQsZW5kKzEpKTsKCiAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMucmFuZ2VzZWxlY3Rpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IHRoaXMuZGF0YXNldC5zbGljZSh0aGlzLnJhbmdlc2VsZWN0aW9uc1tpXSx0aGlzLnJhbmdlc2VsZWN0aW9uc1tpKzFdKzEpOwogICAgICAgIGxldCBmaXJzdHBhcnQgPSBBcnJheSh0aGlzLnJhbmdlc2VsZWN0aW9uc1tpXSkuZmlsbChudWxsKTsKICAgICAgICBsZXQgc2Vjb25kcGFydCA9IEFycmF5KHRoaXMuZGF0YXNldGVuZC10aGlzLnJhbmdlc2VsZWN0aW9uc1tpKzFdKS5maWxsKG51bGwpOwogICAgICAgIGxldCBkID0gZmlyc3RwYXJ0LmNvbmNhdChzZWxlY3Rpb24pLmNvbmNhdChzZWNvbmRwYXJ0KQogICAgICAgIGRhdGFzZXRzLnB1c2goZC5zbGljZShzdGFydCxlbmQrMSkpOwogICAgICAgIGkgPSBpKzE7CiAgICAgIH0KCiAgICAgIGxldCBiYWNrZ3JvdW5kcyA9IFt0aGlzLmJhY2tncm91bmRjb2xvciwgIiNGREQ4MzU4QyIsICIjQjM5RERCOEMiLCAiIzlGQThEQThDIiwgIiNFRjlBOUE4QyIsICIjRjQ4RkIxOEMiLCAiI0NFOTNEODhDIiwnIzgwQ0JDNDhDJywnI0JDQUFBNDhDJ10KICAgICAgbGV0IHNsaWNlZGRhdGFzZXRzID0gW107CiAgICAgIGZvcihsZXQgaT0wO2k8ZGF0YXNldHMubGVuZ3RoO2krKykgewogICAgICAgIHNsaWNlZGRhdGFzZXRzLnB1c2goCiAgICAgICAgICB7CiAgICAgICAgICAgIGRhdGE6IGRhdGFzZXRzW2ldLAogICAgICAgICAgICBib3JkZXJDb2xvcjogdGhpcy5ib3JkZXJjb2xvciwKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kc1tpJWJhY2tncm91bmRzLmxlbmd0aF0sCiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLAogICAgICAgICAgICBmaWxsOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgKQogICAgICB9CiAgICAgIHRoaXMuZGF0YSA9IHsKICAgICAgICBsYWJlbHM6IGxhYmVscywKICAgICAgICBkYXRhc2V0czogc2xpY2VkZGF0YXNldHMKICAgICAgfTsKICAgICAgdGhpcy5yYW5kb21iYXJzID0gIXRoaXMucmFuZG9tYmFyczsKICAgIH0sCiAgICBzdGFydChlLHBvaW50KSB7Ci8vLyAgICAgIGxldCByZWN0ID0gdGhpcy5jaGFydC5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkKICAgICAgdGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0SW5kZXggPSBwb2ludC5faW5kZXgrdGhpcy5yYW5nZVswXTsKICAgICAgdGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0WCA9IHBvaW50Ll92aWV3Lng7CiAgICAgIHRoaXMuc2VsZWN0aW9uUmVjdC5zdGFydFkgPSB0aGlzLmNoYXJ0LmNoYXJ0QXJlYS50b3ArdGhpcy5jaGFydC5jYW52YXMub2Zmc2V0VG9wOwoKICAgIH0sCiAgICBtb3ZlbWVudChldnQsZHJhZyxwb2ludCkgewogICAgICAvL3RoaXMuY2hhbmdlY29sb3JzKE1hdGgubWluKHRoaXMuc2VsZWN0aW9uUmVjdC5zdGFydEluZGV4LHRoaXMuc2VsZWN0aW9uUmVjdC5zdG9wSW5kZXgpLCBNYXRoLm1heCh0aGlzLnNlbGVjdGlvblJlY3Quc3RhcnRJbmRleCx0aGlzLnNlbGVjdGlvblJlY3Quc3RvcEluZGV4KSApCiAgICAgIGxldCByZWN0ID0gdGhpcy5vdmVybGF5LmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICB0aGlzLnNlbGVjdGlvbkNvbnRleHQgPSB0aGlzLm92ZXJsYXkKCiAgICAgIGlmIChkcmFnICYmIHRoaXMuc2VsZWN0aW9uUmVjdC5zdG9wSW5kZXggIT09IHBvaW50Ll9pbmRleCAmJiB0aGlzLnNlbGVjdGlvblJlY3Quc3RhcnRJbmRleCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9uUmVjdC5zdG9wSW5kZXggPSBwb2ludC5faW5kZXgrdGhpcy5yYW5nZVswXTsKICAgICAgICB0aGlzLnNlbGVjdGlvblJlY3QudyA9IChwb2ludC5fdmlldy54KSAtIHRoaXMuc2VsZWN0aW9uUmVjdC5zdGFydFg7CgogICAgICAgIHRoaXMuc2VsZWN0aW9uQ29udGV4dC5nbG9iYWxBbHBoYSA9IDAuNTsKICAgICAgICB0aGlzLnNlbGVjdGlvbkNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTsKICAgICAgICB0aGlzLnNlbGVjdGlvbkNvbnRleHQuZmlsbFJlY3QodGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0WCwKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uUmVjdC5zdGFydFksCiAgICAgICAgICB0aGlzLnNlbGVjdGlvblJlY3QudywKICAgICAgICAgIHRoaXMuY2hhcnQuY2hhcnRBcmVhLmJvdHRvbS10aGlzLmNoYXJ0LmNoYXJ0QXJlYS50b3ApOwogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0SW5kZXggPT0gbnVsbCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9uUmVjdC5zdGFydFkgPSB0aGlzLmNoYXJ0LmNoYXJ0QXJlYS50b3ArdGhpcy5jaGFydC5jYW52YXMub2Zmc2V0VG9wOwoKICAgICAgICB0aGlzLnNlbGVjdGlvbkNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTsKCiAgICAgICAgbGV0IHggPSBwb2ludC5fdmlldy54OwoKICAgICAgICB0aGlzLnNlbGVjdGlvbkNvbnRleHQuZmlsbFJlY3QoeCx0aGlzLmNoYXJ0LmNoYXJ0QXJlYS50b3ArdGhpcy5jaGFydC5jYW52YXMub2Zmc2V0VG9wLDEsdGhpcy5jaGFydC5jaGFydEFyZWEuYm90dG9tLXRoaXMuY2hhcnQuY2hhcnRBcmVhLnRvcCk7CiAgICAgIH0KCiAgICB9LAogICAgc3RvcCgpIHsKICAgICAgbGV0IHJlY3QgPSB0aGlzLm92ZXJsYXkuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCiAgICAgIHRoaXMuc2VsZWN0aW9uQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpOwogICAgICB0aGlzLmFkZE5ld1NlbGVjdGlvbihNYXRoLm1pbih0aGlzLnNlbGVjdGlvblJlY3Quc3RhcnRJbmRleCx0aGlzLnNlbGVjdGlvblJlY3Quc3RvcEluZGV4KSwgTWF0aC5tYXgodGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0SW5kZXgsdGhpcy5zZWxlY3Rpb25SZWN0LnN0b3BJbmRleCkgKQogICAgICB0aGlzLnNlbGVjdGlvblJlY3QgPSB7CiAgICAgICAgdzogMCwKICAgICAgICBzdGFydFg6IDAsCiAgICAgICAgc3RhcnRZOiAwLAogICAgICAgIHN0YXJ0SW5kZXg6IG51bGwsCiAgICAgICAgc3RvcEluZGV4OiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMuc2VsZWN0YWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGFkZE5ld1NlbGVjdGlvbihtaW4sbWF4KSB7CiAgICAgIHRoaXMucmFuZ2VzZWxlY3Rpb25zLnB1c2gobWluKTsKICAgICAgdGhpcy5yYW5nZXNlbGVjdGlvbnMucHVzaChtYXgpOwogICAgICB0aGlzLnNldFJhbmdlKHRoaXMucmFuZ2UpOwogICAgfSwKICAgIGNoYXJ0b2JqZWN0KGUpIHsKICAgICAgdGhpcy5jaGFydCA9IGU7CiAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpOwogICAgICBjb25zdCBjdHggPSBjLmdldENvbnRleHQoIjJkIik7CiAgICAgIHRoaXMub3ZlcmxheSA9IGN0eDsKICAgICAgdGhpcy5vdmVybGF5LmNhbnZhcy53aWR0aCA9IHRoaXMuY2hhcnQuY2hhcnQud2lkdGgtMTI7CiAgICAgIHRoaXMub3ZlcmxheS5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jaGFydC5jaGFydC5oZWlnaHQrdGhpcy5jaGFydC5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <audio src=\"@/assets/song.mp3\" id=\"audio\" crossorigin=\"anonymous\" ref=\"audio\"></audio>\n      <v-container fluid>\n        <div\n          class=\"text-h6 transition-swing text-center my-6\"\n        >\n          Prova de concepte: Selector d'audio amb ChartJS\n       </div>\n       <div\n         class=\"text-h6 transition-swing text-center\"\n       >\n      </div>\n        <v-card flat class=\"mx-auto my-auto\" :width=\"width*0.7\">\n\n          <BarChart :height=\"190\" :random=\"randombars\" :dataarray=\"dataArray\"/>\n\n          <LineChart\n          :chartData=\"data\"\n          :options=\"options\"\n          :range=\"range\"\n          :height=\"400\"\n          @setrange=\"setRange\"\n          @chartobject=\"chartobject\" refs=\"chart\" id=\"chart\" @start=\"start\" @movement=\"movement\" @stop=\"stop\" :selectable=\"selectable\"/>\n\n          <canvas id=\"overlay\"\n          width=\"1200\"\n          height=\"400\"\n          style=\"position:absolute;top:0;\"\n          class=\"selectable\"\n          @mousedown=\"start\"\n          @mousemove=\"movement\"\n          @mouseup=\"stop\"\n          />\n          <RangeSlider @setrange=\"setRange\" :min=\"datasetstart\" :max=\"datasetend\" :width=\"width*0.9\"/>\n\n          <div class=\"d-flex justify-center\">\n            <v-btn @click=\"selectable=true\">Fer una selecció</v-btn>\n            <v-btn @click=\"clearAll\">Netejar seleccions</v-btn>\n          </div>\n\n          <div class=\"d-flex justify-center\">\n            <v-btn icon @click=\"() => audio.play()\"><v-icon>mdi-play</v-icon></v-btn>\n            <v-btn icon @click=\"() => audio.pause()\"><v-icon>mdi-pause</v-icon></v-btn>\n          </div>\n        </v-card>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport BarChart from './components/BarChart.vue'\nimport RangeSlider from './components/RangeSlider.vue'\nimport LineChart from './components/LineChart.vue'\n\nimport moment from 'moment'\n\nexport default {\n  name: 'App',\n  components: {\n    BarChart,\n    LineChart,\n    RangeSlider\n  },\n  data: () => ({\n    options: {\n      elements: {\n          point:{\n              radius: 0\n          }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      pointDotRadius: 1,\n      pointDotStrokeWidth: 18,\n      pointHitDetectionRadius: 20,\n      scales: {\n        yAxes: [\n          {\n            gridLines: {\n              display: true,\n              offsetGridLines: false,\n            },\n          }],\n          xAxes: [{\n            gridLines: {\n              display: true,\n              offsetGridLines: false,\n              zeroLineWidth: 2,\n            }\n          }]\n      },\n      legend: {\n          display: false,\n      },\n      animation: {\n        duration: 0\n      }\n    },\n    data: {\n      labels: [],\n      datasets: [{\n          label: 'Sonometria 1',\n          data: [],\n          fill: true,\n        }\n      ]\n    },\n    selectable: false,\n    selectionContext: null,\n    selectionRect: {\n      w: 0,\n      startX: 0,\n      startY: 0,\n      startIndex: null,\n      stopIndex: null\n    },\n    chart: null,\n    overlay: null,\n    labels: null,\n    dataset: null,\n    datasetstart: 0,\n    datasetend: 360,\n    range: [0,360],\n    height: window.innerHeight,\n    width: window.innerWidth,\n    randombars: false,\n    backgroundcolor: 'hsla(2, 12%, 50%,0.4)',\n    bordercolor: 'hsla(2, 12%, 50%,0.4)',\n    rangeselections: [],\n    dataArray: null,\n    audio: null,\n  }),\n  mounted () {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    this.audio = document.querySelector('audio');\n    const source = audioCtx.createMediaElementSource(this.audio);\n\n    // Once the metadata has been loaded, display the duration in the console\n    this.audio.addEventListener('loadedmetadata', () => {\n        // Obtain the duration in seconds of the audio file (with milliseconds as well, a float value)\n        let duration = parseInt(this.audio.duration);\n\n        // example 12.3234 seconds\n        console.log(\"The duration of the song is of: \" + duration + \" seconds\");\n        // Alternatively, just display the integer value with\n        // parseInt(duration)0, 1\n        // 12 seconds\n        this.setDb(duration)\n    },false);\n\n\n    const analyser = audioCtx.createAnalyser();\n    analyser.fftSize = 64; //256 samples //Sample rate is 44100hz, so getByteFrequencyData last element is 22050hz\n    let buffer = analyser.frequencyBinCount;\n\n    this.dataArray = new Uint8Array(buffer);\n\n    source.connect(analyser);\n    analyser.connect(audioCtx.destination);\n\n\n\n    setInterval(() => {\n      analyser.getByteFrequencyData(this.dataArray);\n      this.randombars = !this.randombars;\n\n    }, 50);\n\n  },\n  methods: {\n    setDb(duration) {\n      console.log('Duration is:' + duration)\n      this.datasetend = duration;\n      this.range = [0,duration];\n      this.labels = this.fakeLabels();\n      this.dataset = this.fakeData();\n      this.backgroundcolor = 'hsl(0, 0%, 53%,0.2)'\n      this.data = {\n        labels: this.labels,\n        datasets: [{\n            label: 'Sonometria 1',\n            data: this.dataset,\n            borderColor: this.bordercolor,\n            backgroundColor: this.backgroundcolor,\n            borderWidth: 2,\n            fill: true,\n          }\n        ]\n      }\n    },\n    fakeLabels() {\n      let labels = [];\n      console.log(this.datasetend)\n      for(let i=this.datasetstart; i<this.datasetend/60; i++) {\n        labels.push(moment().startOf('day').add(1*i, 'minutes').format('H:mm:ss'))\n      }\n      return labels\n    },\n    fakeData() {\n      let data = [];\n      for(let i=this.datasetstart; i<this.datasetend-1; i++) {\n        if (Math.floor(i/20)%2) {\n          data.push(Math.floor(Math.random() * 40))\n        }\n        else {\n          data.push(Math.floor(Math.random() * (80 - 30 + 1)) + 30)\n        }\n      }\n      return data\n    },\n    clearAll() {\n      let labels = this.labels.slice(this.range[0], this.range[1]+1);\n      let dataset = this.dataset.slice(this.range[0],this.range[1]+1);\n      this.rangeselections = [];\n      this.data = {\n        labels: labels,\n        datasets: [{\n            label: 'Sonometria 1',\n            data: dataset,\n            borderColor: this.bordercolor,\n            borderWidth: 2,\n            backgroundColor: this.backgroundcolor,\n            fill: true\n          }\n        ]\n      };\n    },\n    setRange(a) {\n      console.log(a)\n      let start = a[0];\n      let end = a[1];\n      this.range = a;\n      let labels = this.labels.slice(start/60, (end+1)/60);\n      let datasets = [];\n      datasets.push(this.dataset.slice(start,end+1));\n\n      for(let i=0; i<this.rangeselections.length; i++) {\n        let selection = this.dataset.slice(this.rangeselections[i],this.rangeselections[i+1]+1);\n        let firstpart = Array(this.rangeselections[i]).fill(null);\n        let secondpart = Array(this.datasetend-this.rangeselections[i+1]).fill(null);\n        let d = firstpart.concat(selection).concat(secondpart)\n        datasets.push(d.slice(start,end+1));\n        i = i+1;\n      }\n\n      let backgrounds = [this.backgroundcolor, \"#FDD8358C\", \"#B39DDB8C\", \"#9FA8DA8C\", \"#EF9A9A8C\", \"#F48FB18C\", \"#CE93D88C\",'#80CBC48C','#BCAAA48C']\n      let sliceddatasets = [];\n      for(let i=0;i<datasets.length;i++) {\n        sliceddatasets.push(\n          {\n            data: datasets[i],\n            borderColor: this.bordercolor,\n            backgroundColor: backgrounds[i%backgrounds.length],\n            borderWidth: 2,\n            fill: true\n          }\n        )\n      }\n      this.data = {\n        labels: labels,\n        datasets: sliceddatasets\n      };\n      this.randombars = !this.randombars;\n    },\n    start(e,point) {\n///      let rect = this.chart.canvas.getBoundingClientRect()\n      this.selectionRect.startIndex = point._index+this.range[0];\n      this.selectionRect.startX = point._view.x;\n      this.selectionRect.startY = this.chart.chartArea.top+this.chart.canvas.offsetTop;\n\n    },\n    movement(evt,drag,point) {\n      //this.changecolors(Math.min(this.selectionRect.startIndex,this.selectionRect.stopIndex), Math.max(this.selectionRect.startIndex,this.selectionRect.stopIndex) )\n      let rect = this.overlay.canvas.getBoundingClientRect()\n      this.selectionContext = this.overlay\n\n      if (drag && this.selectionRect.stopIndex !== point._index && this.selectionRect.startIndex !== null) {\n        this.selectionRect.stopIndex = point._index+this.range[0];\n        this.selectionRect.w = (point._view.x) - this.selectionRect.startX;\n\n        this.selectionContext.globalAlpha = 0.5;\n        this.selectionContext.clearRect(0, 0, rect.width, rect.height);\n        this.selectionContext.fillRect(this.selectionRect.startX,\n          this.selectionRect.startY,\n          this.selectionRect.w,\n          this.chart.chartArea.bottom-this.chart.chartArea.top);\n      }\n      else if(this.selectionRect.startIndex == null) {\n        this.selectionRect.startY = this.chart.chartArea.top+this.chart.canvas.offsetTop;\n\n        this.selectionContext.clearRect(0, 0, rect.width, rect.height);\n\n        let x = point._view.x;\n\n        this.selectionContext.fillRect(x,this.chart.chartArea.top+this.chart.canvas.offsetTop,1,this.chart.chartArea.bottom-this.chart.chartArea.top);\n      }\n\n    },\n    stop() {\n      let rect = this.overlay.canvas.getBoundingClientRect()\n      this.selectionContext.clearRect(0, 0, rect.width, rect.height);\n      this.addNewSelection(Math.min(this.selectionRect.startIndex,this.selectionRect.stopIndex), Math.max(this.selectionRect.startIndex,this.selectionRect.stopIndex) )\n      this.selectionRect = {\n        w: 0,\n        startX: 0,\n        startY: 0,\n        startIndex: null,\n        stopIndex: null\n      };\n      this.selectable = false;\n    },\n    addNewSelection(min,max) {\n      this.rangeselections.push(min);\n      this.rangeselections.push(max);\n      this.setRange(this.range);\n    },\n    chartobject(e) {\n      this.chart = e;\n      const c = document.getElementById('overlay');\n      const ctx = c.getContext(\"2d\");\n      this.overlay = ctx;\n      this.overlay.canvas.width = this.chart.chart.width-12;\n      this.overlay.canvas.height = this.chart.chart.height+this.chart.canvas.getBoundingClientRect().y;\n    }\n  }\n}\n</script>\n\n<style>\n.selectable {\n  pointer-events:none;\n}\n</style>\n"]}]}