{"remainingRequest":"/home/yyuri/Documentos/pocSorroll/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yyuri/Documentos/pocSorroll/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/yyuri/Documentos/pocSorroll/src/App.vue","mtime":1604263769163},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yyuri/Documentos/pocSorroll/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXJDaGFydCBmcm9tICcuL2NvbXBvbmVudHMvQmFyQ2hhcnQudnVlJwppbXBvcnQgUmFuZ2VTbGlkZXIgZnJvbSAnLi9jb21wb25lbnRzL1JhbmdlU2xpZGVyLnZ1ZScKaW1wb3J0IExpbmVDaGFydCBmcm9tICcuL2NvbXBvbmVudHMvTGluZUNoYXJ0LnZ1ZScKCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIEJhckNoYXJ0LAogICAgTGluZUNoYXJ0LAogICAgUmFuZ2VTbGlkZXIKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBvcHRpb25zOiB7CiAgICAgIGVsZW1lbnRzOiB7CiAgICAgICAgICBwb2ludDp7CiAgICAgICAgICAgICAgcmFkaXVzOiAwCiAgICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLAogICAgICBzY2FsZXM6IHsKICAgICAgICB5QXhlczogWwogICAgICAgICAgewogICAgICAgICAgICBncmlkTGluZXM6IHsKICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgICAgIG9mZnNldEdyaWRMaW5lczogZmFsc2UsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9XSwKICAgICAgICAgIHhBeGVzOiBbewogICAgICAgICAgICBncmlkTGluZXM6IHsKICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgICAgIG9mZnNldEdyaWRMaW5lczogZmFsc2UsCiAgICAgICAgICAgICAgemVyb0xpbmVXaWR0aDogMiwKICAgICAgICAgICAgICB0aWNrTWFya0xlbmd0aDogNSwKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRpY2tzOiB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCwKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgfSwKICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkaXNwbGF5OiBmYWxzZSwKICAgICAgfSwKICAgICAgYW5pbWF0aW9uOiB7CiAgICAgICAgZHVyYXRpb246IDAKICAgICAgfQogICAgfSwKICAgIGRhdGE6IHsKICAgICAgbGFiZWxzOiBbXSwKICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICBsYWJlbDogJ1Nvbm9tZXRyaWEgMScsCiAgICAgICAgICBkYXRhOiBbXSwKICAgICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgfQogICAgICBdCiAgICB9LAogICAgc2VsZWN0YWJsZTogZmFsc2UsCiAgICBzZWxlY3Rpb25SZWN0OiB7CiAgICAgIHc6IDAsCiAgICAgIHN0YXJ0WDogMCwKICAgICAgc3RhcnRZOiAwLAogICAgICBzdGFydEluZGV4OiBudWxsLAogICAgICBzdG9wSW5kZXg6IG51bGwKICAgIH0sCiAgICBvdmVybGF5OiBudWxsLAogICAgbGFiZWxzOiBudWxsLAogICAgZGF0YXNldDogbnVsbCwKICAgIGRhdGFzZXRzdGFydDogMCwKICAgIGRhdGFzZXRlbmQ6IDM2MCwKICAgIHJhbmdlOiBbMCwzNjBdLAogICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLAogICAgdXBkYXRlQmFyQ2hhcnQ6IGZhbHNlLAogICAgYmFja2dyb3VuZGNvbG9yOiAnaHNsYSgyLCAxMiUsIDUwJSwwLjQpJywKICAgIGJvcmRlcmNvbG9yOiAnaHNsYSgyLCAxMiUsIDUwJSwwLjQpJywKICAgIHJhbmdlc2VsZWN0aW9uczogW10sCiAgICBkYXRhQXJyYXk6IG51bGwsCiAgICBhdWRpbzogbnVsbCwKICAgIHNvdXJjZTogbnVsbCwKICAgIGFuYWx5c2VyOiBudWxsLAogICAgYW5hbHlzZXJpbnRlcnZhbDogbnVsbCwKICAgIHN0YXJ0eTogbnVsbCwKICAgIHN0b3B5OiBudWxsLAogICAgY2hhcnR3aWR0aDogbnVsbCwKICAgIG1vdGlvbjogbnVsbCwKICAgIHBsYXlpbmc6IGZhbHNlLAogICAgb3ZlcmxheWJ0bjogdHJ1ZSwKICB9KSwKICBtb3VudGVkICgpIHsKICAgIGNvbnN0IGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7CiAgICB0aGlzLmF1ZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYXVkaW8nKTsKICAgIHRoaXMuc291cmNlID0gYXVkaW9DdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pOwoKICAgIGxldCBfdGhpcyA9IHRoaXM7CgogICAgLy8gV2UgZmV0Y2ggdGhlbiBwcm9jZXNzIHRoZSBmaWxlLCB3ZSBnZXQgRGIgbGV2ZWxzIG9mIHRoZSB3aG9sZSBhdWRpb2ZpbGUKCiAgICBmZXRjaChyZXF1aXJlKCdAL2Fzc2V0cy9zb25nMi5tcDMnKSkKICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge3JldHVybiByZXNwLmFycmF5QnVmZmVyKCl9KQogICAgICAudGhlbihhdWRpb0N0eC5kZWNvZGVBdWRpb0RhdGEuYmluZChhdWRpb0N0eCkpCiAgICAgIC50aGVuKGZ1bmN0aW9uKGJ1ZmZlcikgewogICAgICAgIGxldCBjaGFubmVsID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApOwoKICAgICAgICBsZXQgcG9pbnRzID0gWzBdOwogICAgICAgIGxldCBkdXJhdGlvbiA9IGJ1ZmZlci5kdXJhdGlvbjsKCiAgICAgICAgZm9yKGxldCB4ID0gMSwgaSwgdjsgeCA8IGR1cmF0aW9uOyB4KyspIHsKICAgICAgICAgIGkgPSAoKHggLyBkdXJhdGlvbikgKiBjaGFubmVsLmxlbmd0aCl8MDsKICAgICAgICAgIHYgPSBNYXRoLmFicyhnZXRkQihjaGFubmVsLCBpLCA0NDApKTsKICAgICAgICAgIHBvaW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgICBfdGhpcy5zZXRQcm9jY2Vzc2VkRGF0YShkdXJhdGlvbixwb2ludHMpOwogICAgICAgIC8vIGNhbGN1bGF0ZXMgUk1TIHBlciB3aW5kb3cgYW5kIHJldHVybnMgbm9ybWFsaXplZCBkQgogICAgICAgIGZ1bmN0aW9uIGdldGRCKGJ1ZmZlciwgcG9zLCB3aW5TaXplKSB7CiAgICAgICAgICBsZXQgc3VtID0gMDsKICAgICAgICAgIGZvcihsZXQgdiwgaSA9IHBvcyAtIHdpblNpemU7IGkgPD0gcG9zOyBpKyspIHsKICAgICAgICAgICAgdiA9IGkgPCAwID8gMCA6IGJ1ZmZlcltpXTsKICAgICAgICAgICAgc3VtICs9IHYgKiB2OwogICAgICAgICAgfQogICAgICAgICAgbGV0IHJtcyA9IE1hdGguc3FydChzdW0gLyB3aW5TaXplKTsgIC8vIGNvcnJlY3RlZCEKICAgICAgICAgIHJldHVybiAuNCpNYXRoLmxvZzEwKHJtcyk7CiAgICAgICAgfQogICAgfSk7CgogICAgLy9DcmVhdGUgYW5hbHlzZXIsIGNvbm5lY3QgaXQgdG8gc291cmNlIGFuZCBkZXN0aW5hdGlvbiBhbmQgY3JlYXRlIGJ1ZmZlciBhcnJheQogICAgdGhpcy5hbmFseXNlciA9IGF1ZGlvQ3R4LmNyZWF0ZUFuYWx5c2VyKCk7CiAgICB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpOwogICAgdGhpcy5hbmFseXNlci5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgIHRoaXMuYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50PSAwLjcKICAgIHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZSA9IDY0OyAvL1NhbXBsZSByYXRlIGlzIDQ0MTAwaHosIHdlIGhhdmUgZW5vdWdoIGFjY3VyYWN5IHdpdGggNjQgLgoKCgogICAgLy9XZSBhcmUgYWRkaW5nIGtleWRvd24gY29udHJvbAogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnN3aXRjaGVyKTsKICB9LAogIGRlc3Ryb3llZCAoKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuc3dpdGNoZXIpOwogIH0sCiAgbWV0aG9kczogewogICAgc3dpdGNoZXIoZSkgewogICAgICBpZihlLmNvZGUgPT09ICdTcGFjZScpIHsKICAgICAgICBpZih0aGlzLmF1ZGlvLnBhdXNlZCkgewogICAgICAgICAgdGhpcy5wbGF5KCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgdGhpcy5wYXVzZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICBlbHNlIGlmKGUuY29kZSA9PT0gJ0Fycm93UmlnaHQnKSB7CiAgICAgICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSArPSAzOwogICAgICAgIGxldCB4ID0gdGhpcy5jaGFydHdpZHRoKnRoaXMuYXVkaW8uY3VycmVudFRpbWUgLyB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQuZHVyYXRpb24gOwogICAgICAgIHRoaXMub3ZlcmxheS5jbGVhclJlY3QoMCwgMCwgdGhpcy5vdmVybGF5LmNhbnZhcy53aWR0aCwgdGhpcy5vdmVybGF5LmNhbnZhcy5oZWlnaHQpOwogICAgICAgIHRoaXMub3ZlcmxheS5maWxsUmVjdCh4LHRoaXMuc3RhcnR5LC02LHRoaXMuc3RvcHkpOwogICAgICB9CiAgICAgIGVsc2UgaWYoZS5jb2RlID09PSAnQXJyb3dMZWZ0JykgewogICAgICAgIHRoaXMuYXVkaW8uY3VycmVudFRpbWUgLT0gMzsKICAgICAgICBsZXQgeCA9IHRoaXMuY2hhcnR3aWR0aCp0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lIC8gdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LmR1cmF0aW9uIDsKICAgICAgICB0aGlzLm92ZXJsYXkuY2xlYXJSZWN0KDAsIDAsIHRoaXMub3ZlcmxheS5jYW52YXMud2lkdGgsIHRoaXMub3ZlcmxheS5jYW52YXMuaGVpZ2h0KTsKICAgICAgICB0aGlzLm92ZXJsYXkuZmlsbFJlY3QoeCx0aGlzLnN0YXJ0eSwtNix0aGlzLnN0b3B5KTsKICAgICAgfQogICAgfSwKICAgIHBsYXkoKSB7CiAgICAgIHRoaXMucGxheWluZyA9IHRydWU7CiAgICAgIHRoaXMuYXVkaW8ucGxheSgpOwoKICAgICAgLy9sZXQgbGFiZWxzID0gWyIyMEh6IiwgIjI1IEh6IiwgIjMxLjUgSHoiLCAiNDAgSHoiLCAiNTAgSHoiLCAiNjMgSHoiLCAiODAgSHoiLCAiMTAwIEh6IiwgIjEyNSBIeiIsICIxNjAgSHoiLCAiMjAwIEh6IiwgIjI1MCBIeiIsICIzMTUgSHoiLCAiNDAwIEh6IiwgIjUwMCBIeiIsICI2MzAgSHoiLCAiODAwIEh6IiwgIjEwMDAgSHoiLCAiMTI1MCBIeiIsICIxNjAwIEh6IiwgIjIwMDAgSHoiLCAiMjUwMCBIeiIsICIzMTUwIEh6IiwgIjQwMDAgSHoiLCAiNTAwMCBIeiIsICI2MzAwIEh6IiwgIjgwMDAgSHoiLCAiMTAga0h6IiwgIjEyLDUga0h6IiwgIjE2IGtIeiIsICIyMCBrSHoiXTsKICAgICAgdGhpcy5hbmFseXNlcmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGxldCBidWZmZXIgPSB0aGlzLmFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50OwogICAgICAgIHRoaXMuZGF0YUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICAgICAgICB0aGlzLmFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YUFycmF5KTsKICAgICAgICB0aGlzLnVwZGF0ZUJhckNoYXJ0ID0gIXRoaXMudXBkYXRlQmFyQ2hhcnQ7CiAgICAgIH0sIDkwKTsKICAgICAgdGhpcy5tb3Rpb24gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucHJvZ3Jlc3NCYXIpCiAgICAgIC8vdGhpcy5tb3Rpb24gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucHJvZ3Jlc3NCYXIpOwogICAgfSwKICAgIHBhdXNlKCkgewogICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5hdWRpby5wYXVzZSgpOwogICAgICBjbGVhckludGVydmFsKHRoaXMuYW5hbHlzZXJpbnRlcnZhbCk7CiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLm1vdGlvbik7CiAgICB9LAogICAgZ29Ub0ZyYW1lKHBvaW50KSB7CiAgICAgIGlmKCF0aGlzLnNlbGVjdGFibGUpIHsKICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lPSAocG9pbnQuX2luZGV4K3RoaXMucmFuZ2VbMF0pOwogICAgICAgIGxldCB4ID0gKHBvaW50Ll9pbmRleC8odGhpcy5yYW5nZVsxXS10aGlzLnJhbmdlWzBdKSkgKiB0aGlzLmNoYXJ0d2lkdGg7CiAgICAgICAgdGhpcy5vdmVybGF5Lmdsb2JhbEFscGhhID0gMC41OwogICAgICAgIHRoaXMub3ZlcmxheS5jbGVhclJlY3QoMCwgMCwgdGhpcy5vdmVybGF5LmNhbnZhcy53aWR0aCwgdGhpcy5vdmVybGF5LmNhbnZhcy5oZWlnaHQpOwogICAgICAgIHRoaXMub3ZlcmxheS5maWxsUmVjdCh4LHRoaXMuc3RhcnR5LC02LHRoaXMuJHJlZnMubGluZWNoYXJ0Ll9kYXRhLl9jaGFydC5zY2FsZXNbJ3gtYXhpcy0wJ10udG9wLTcpOwogICAgICB9CiAgICB9LAogICAgcHJvZ3Jlc3NCYXIoKSB7CiAgICAgIGlmKCF0aGlzLmF1ZGlvLnBhdXNlZCkgewogICAgICAgICAgbGV0IHggPSAoKHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5jdXJyZW50VGltZS10aGlzLnJhbmdlWzBdKSAvICh0aGlzLnJhbmdlWzFdLXRoaXMucmFuZ2VbMF0pKSAqIHRoaXMuY2hhcnR3aWR0aDsKICAgICAgICAgIHRoaXMub3ZlcmxheS5nbG9iYWxBbHBoYSA9IDAuNTsKICAgICAgICAgIHRoaXMub3ZlcmxheS5jbGVhclJlY3QoMCwgMCwgdGhpcy5vdmVybGF5LmNhbnZhcy53aWR0aCwgdGhpcy5vdmVybGF5LmNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgdGhpcy5vdmVybGF5LmZpbGxSZWN0KHgsdGhpcy5zdGFydHksLTYsdGhpcy4kcmVmcy5saW5lY2hhcnQuX2RhdGEuX2NoYXJ0LnNjYWxlc1sneC1heGlzLTAnXS50b3AtNyk7CiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucHJvZ3Jlc3NCYXIpCiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgbGV0IHggPSAoKHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5jdXJyZW50VGltZS10aGlzLnJhbmdlWzBdKSAvICh0aGlzLnJhbmdlWzFdLXRoaXMucmFuZ2VbMF0pKSAqIHRoaXMuY2hhcnR3aWR0aDsKICAgICAgICB0aGlzLm92ZXJsYXkuZ2xvYmFsQWxwaGEgPSAwLjU7CiAgICAgICAgdGhpcy5vdmVybGF5LmNsZWFyUmVjdCgwLCAwLCB0aGlzLm92ZXJsYXkuY2FudmFzLndpZHRoLCB0aGlzLm92ZXJsYXkuY2FudmFzLmhlaWdodCk7CiAgICAgICAgdGhpcy5vdmVybGF5LmZpbGxSZWN0KHgsdGhpcy5zdGFydHksLTYsdGhpcy4kcmVmcy5saW5lY2hhcnQuX2RhdGEuX2NoYXJ0LnNjYWxlc1sneC1heGlzLTAnXS50b3AtNyk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRQcm9jY2Vzc2VkRGF0YShkdXJhdGlvbixwb2ludHMpIHsKICAgICAgdGhpcy5kYXRhc2V0ZW5kID0gTWF0aC5mbG9vcihkdXJhdGlvbik7CiAgICAgIHRoaXMucmFuZ2UgPSBbMCxNYXRoLmZsb29yKGR1cmF0aW9uKV07CiAgICAgIHRoaXMubGFiZWxzID0gdGhpcy5kQkxhYmVscygpOwogICAgICB0aGlzLmRhdGFzZXQgPSB0aGlzLmRCRGF0YShwb2ludHMpOwogICAgICB0aGlzLmJhY2tncm91bmRjb2xvciA9ICdoc2woMCwgMCUsIDUzJSwwLjIpJwogICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAgbGFiZWxzOiB0aGlzLmxhYmVscywKICAgICAgICBkYXRhc2V0czogW3sKICAgICAgICAgICAgbGFiZWw6ICdTb25vbWV0cmlhIDEnLAogICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGFzZXQsCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlcmNvbG9yLAogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuYmFja2dyb3VuZGNvbG9yLAogICAgICAgICAgICBib3JkZXJXaWR0aDogMiwKICAgICAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICAgIH0sCiAgICAgICAgXQogICAgICB9CiAgICB9LAogICAgZEJEYXRhKHBvaW50cykgewogICAgICBsZXQgZGF0YSA9IFtdOwogICAgICBmb3IobGV0IGk9dGhpcy5kYXRhc2V0c3RhcnQ7IGk8dGhpcy5kYXRhc2V0ZW5kOyBpKyspIHsKICAgICAgICBkYXRhLnB1c2gocG9pbnRzW2ldKTsKICAgICAgfQogICAgICByZXR1cm4gZGF0YQogICAgfSwKICAgIGRCTGFiZWxzKCkgewogICAgICBsZXQgbGFiZWxzID0gW107CiAgICAgIGZvcihsZXQgaT10aGlzLmRhdGFzZXRzdGFydDsgaTx0aGlzLmRhdGFzZXRlbmQ7IGkrKykgewogICAgICAgIGxhYmVscy5wdXNoKG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLmFkZCgxKmksICdzZWNvbmRzJykuZm9ybWF0KCdIOm1tOnNzJykpCiAgICAgIH0KICAgICAgcmV0dXJuIGxhYmVscwogICAgfSwKICAgIGNsZWFyQWxsKCkgewogICAgICBsZXQgbGFiZWxzID0gdGhpcy5sYWJlbHMuc2xpY2UodGhpcy5yYW5nZVswXSwgdGhpcy5yYW5nZVsxXSsxKTsKICAgICAgbGV0IGRhdGFzZXQgPSB0aGlzLmRhdGFzZXQuc2xpY2UodGhpcy5yYW5nZVswXSx0aGlzLnJhbmdlWzFdKzEpOwogICAgICB0aGlzLnJhbmdlc2VsZWN0aW9ucyA9IFtdOwogICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAgbGFiZWxzOiBsYWJlbHMsCiAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgIGxhYmVsOiAnU29ub21ldHJpYSAxJywKICAgICAgICAgICAgZGF0YTogZGF0YXNldCwKICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHRoaXMuYm9yZGVyY29sb3IsCiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLAogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuYmFja2dyb3VuZGNvbG9yLAogICAgICAgICAgICBmaWxsOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9OwogICAgfSwKICAgIHNldFJhbmdlKGEpIHsKICAgICAgbGV0IHN0YXJ0ID0gYVswXTsKICAgICAgbGV0IGVuZCA9IGFbMV07CiAgICAgIHRoaXMucmFuZ2UgPSBhOwogICAgICBsZXQgbGFiZWxzID0gdGhpcy5sYWJlbHMuc2xpY2Uoc3RhcnQsIGVuZCsxKTsKICAgICAgbGV0IGRhdGFzZXRzID0gW107CiAgICAgIGRhdGFzZXRzLnB1c2godGhpcy5kYXRhc2V0LnNsaWNlKHN0YXJ0LGVuZCsxKSk7CiAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMucmFuZ2VzZWxlY3Rpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IHRoaXMuZGF0YXNldC5zbGljZSh0aGlzLnJhbmdlc2VsZWN0aW9uc1tpXSx0aGlzLnJhbmdlc2VsZWN0aW9uc1tpKzFdKzEpOwogICAgICAgIGxldCBmaXJzdHBhcnQgPSBBcnJheSh0aGlzLnJhbmdlc2VsZWN0aW9uc1tpXSkuZmlsbChudWxsKTsKICAgICAgICBsZXQgc2Vjb25kcGFydCA9IEFycmF5KHRoaXMuZGF0YXNldGVuZC10aGlzLnJhbmdlc2VsZWN0aW9uc1tpKzFdKS5maWxsKG51bGwpOwogICAgICAgIGxldCBkID0gZmlyc3RwYXJ0LmNvbmNhdChzZWxlY3Rpb24pLmNvbmNhdChzZWNvbmRwYXJ0KQogICAgICAgIGRhdGFzZXRzLnB1c2goZC5zbGljZShzdGFydCxlbmQrMSkpOwogICAgICAgIGkgPSBpKzE7CiAgICAgIH0KICAgICAgbGV0IGJhY2tncm91bmRzID0gW3RoaXMuYmFja2dyb3VuZGNvbG9yLCAiI0ZERDgzNThDIiwgIiNCMzlEREI4QyIsICIjOUZBOERBOEMiLCAiI0VGOUE5QThDIiwgIiNGNDhGQjE4QyIsICIjQ0U5M0Q4OEMiLCcjODBDQkM0OEMnLCcjQkNBQUE0OEMnXQogICAgICBsZXQgc2xpY2VkZGF0YXNldHMgPSBbXTsKICAgICAgZm9yKGxldCBpPTA7aTxkYXRhc2V0cy5sZW5ndGg7aSsrKSB7CiAgICAgICAgc2xpY2VkZGF0YXNldHMucHVzaCgKICAgICAgICAgIHsKICAgICAgICAgICAgZGF0YTogZGF0YXNldHNbaV0sCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlcmNvbG9yLAogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRzW2klYmFja2dyb3VuZHMubGVuZ3RoXSwKICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIsCiAgICAgICAgICAgIGZpbGw6IHRydWUKICAgICAgICAgIH0KICAgICAgICApCiAgICAgIH0KICAgICAgdGhpcy5kYXRhID0gewogICAgICAgIGxhYmVsczogbGFiZWxzLAogICAgICAgIGRhdGFzZXRzOiBzbGljZWRkYXRhc2V0cwogICAgICB9OwogICAgICBsZXQgeCA9ICgodGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lLXRoaXMucmFuZ2VbMF0pIC8gKHRoaXMucmFuZ2VbMV0tdGhpcy5yYW5nZVswXSkpICogdGhpcy5jaGFydHdpZHRoOwogICAgICB0aGlzLm92ZXJsYXkuZ2xvYmFsQWxwaGEgPSAwLjU7CiAgICAgIHRoaXMub3ZlcmxheS5jbGVhclJlY3QoMCwgMCwgdGhpcy5vdmVybGF5LmNhbnZhcy53aWR0aCwgdGhpcy5vdmVybGF5LmNhbnZhcy5oZWlnaHQpOwogICAgICB0aGlzLm92ZXJsYXkuZmlsbFJlY3QoeCx0aGlzLnN0YXJ0eSwtNix0aGlzLiRyZWZzLmxpbmVjaGFydC5fZGF0YS5fY2hhcnQuc2NhbGVzWyd4LWF4aXMtMCddLnRvcC03KTsKICAgIH0sCiAgICAvL1RoaXMgbmV4dCB0aHJlZSBmdW5jdGlvbnMgYXJlIGhhbmRsaW5nIHVzZXIgaW5wdXRzIHdoZW4gc2VsZWN0aW5nIGFyZWFzIG9mIHRoZSBjaGFydAogICAgc3RhcnRTZWxlY3Rpb24oZSxwb2ludCkgewogICAgICB0aGlzLnNlbGVjdGlvblJlY3Quc3RhcnRJbmRleCA9IHBvaW50Ll9pbmRleCt0aGlzLnJhbmdlWzBdOwogICAgICB0aGlzLnNlbGVjdGlvblJlY3Quc3RhcnRYID0gcG9pbnQuX3ZpZXcueDsKICAgICAgdGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0WSA9IHRoaXMuc3RhcnR5OwogICAgfSwKICAgIG1vdmVtZW50U2VsZWN0aW9uKGV2dCxkcmFnLHBvaW50KSB7CiAgICAgIGlmIChkcmFnICYmIHRoaXMuc2VsZWN0aW9uUmVjdC5zdG9wSW5kZXggIT09IHBvaW50Ll9pbmRleCAmJiB0aGlzLnNlbGVjdGlvblJlY3Quc3RhcnRJbmRleCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9uUmVjdC5zdG9wSW5kZXggPSBwb2ludC5faW5kZXgrdGhpcy5yYW5nZVswXTsKICAgICAgICB0aGlzLnNlbGVjdGlvblJlY3QudyA9IChwb2ludC5fdmlldy54KSAtIHRoaXMuc2VsZWN0aW9uUmVjdC5zdGFydFg7CiAgICAgICAgdGhpcy5vdmVybGF5Lmdsb2JhbEFscGhhID0gMC41OwogICAgICAgIHRoaXMub3ZlcmxheS5jbGVhclJlY3QoMCwgMCwgdGhpcy5vdmVybGF5LmNhbnZhcy53aWR0aCwgdGhpcy5vdmVybGF5LmNhbnZhcy5oZWlnaHQpOwogICAgICAgIHRoaXMub3ZlcmxheS5maWxsUmVjdCh0aGlzLnNlbGVjdGlvblJlY3Quc3RhcnRYLTM0LAogICAgICAgICAgdGhpcy5zdGFydHksCiAgICAgICAgICB0aGlzLnNlbGVjdGlvblJlY3QudywKICAgICAgICAgIHRoaXMuc3RvcHkpOwogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0SW5kZXggPT0gbnVsbCkgewogICAgICAgIHRoaXMub3ZlcmxheS5nbG9iYWxBbHBoYSA9IDAuNTsKICAgICAgICBsZXQgeCA9IHBvaW50Ll92aWV3Lng7CiAgICAgICAgY29uc29sZS5sb2coeCkKICAgICAgICBjb25zb2xlLmxvZyhwb2ludC5faW5kZXgpCgogICAgICAgIHRoaXMub3ZlcmxheS5jbGVhclJlY3QoMCwgMCwgdGhpcy5vdmVybGF5LmNhbnZhcy53aWR0aCwgdGhpcy5vdmVybGF5LmNhbnZhcy5oZWlnaHQpOwogICAgICAgIHRoaXMub3ZlcmxheS5maWxsUmVjdCh4LTM0LHRoaXMuc3RhcnR5LDIsdGhpcy5zdG9weSk7CiAgICAgIH0KICAgIH0sCiAgICBzdG9wU2VsZWN0aW9uKCkgewogICAgICB0aGlzLm92ZXJsYXkuY2xlYXJSZWN0KDAsIDAsIHRoaXMub3ZlcmxheS5jYW52YXMud2lkdGgsIHRoaXMub3ZlcmxheS5jYW52YXMuaGVpZ2h0KTsKICAgICAgdGhpcy5hZGROZXdTZWxlY3Rpb24oTWF0aC5taW4odGhpcy5zZWxlY3Rpb25SZWN0LnN0YXJ0SW5kZXgsdGhpcy5zZWxlY3Rpb25SZWN0LnN0b3BJbmRleCksIE1hdGgubWF4KHRoaXMuc2VsZWN0aW9uUmVjdC5zdGFydEluZGV4LHRoaXMuc2VsZWN0aW9uUmVjdC5zdG9wSW5kZXgpICkKICAgICAgdGhpcy5zZWxlY3Rpb25SZWN0ID0gewogICAgICAgIHc6IDAsCiAgICAgICAgc3RhcnRYOiAwLAogICAgICAgIHN0YXJ0WTogMCwKICAgICAgICBzdGFydEluZGV4OiBudWxsLAogICAgICAgIHN0b3BJbmRleDogbnVsbAogICAgICB9OwogICAgICB0aGlzLnNlbGVjdGFibGUgPSBmYWxzZTsKCgogICAgfSwKICAgIGFkZE5ld1NlbGVjdGlvbihtaW4sbWF4KSB7CiAgICAgIHRoaXMucmFuZ2VzZWxlY3Rpb25zLnB1c2gobWluKTsKICAgICAgdGhpcy5yYW5nZXNlbGVjdGlvbnMucHVzaChtYXgpOwogICAgICB0aGlzLnNldFJhbmdlKHRoaXMucmFuZ2UpOwogICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lPSAobWluKTsKICAgICAgbGV0IHggPSAoKG1pbi10aGlzLnJhbmdlWzBdKSAvICh0aGlzLnJhbmdlWzFdLXRoaXMucmFuZ2VbMF0pKSAqIHRoaXMuY2hhcnR3aWR0aDsKICAgICAgdGhpcy5vdmVybGF5Lmdsb2JhbEFscGhhID0gMC41OwogICAgICB0aGlzLm92ZXJsYXkuY2xlYXJSZWN0KDAsIDAsIHRoaXMub3ZlcmxheS5jYW52YXMud2lkdGgsIHRoaXMub3ZlcmxheS5jYW52YXMuaGVpZ2h0KTsKICAgICAgdGhpcy5vdmVybGF5LmZpbGxSZWN0KHgsdGhpcy5zdGFydHksLTYsdGhpcy4kcmVmcy5saW5lY2hhcnQuX2RhdGEuX2NoYXJ0LnNjYWxlc1sneC1heGlzLTAnXS50b3AtNyk7CiAgICB9LAogICAgb3ZlcmxheUxheWVyKGUpIHsKICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7CgogICAgICBjLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgYy5zdHlsZS50b3AgPSBlLmNhbnZhcy5vZmZzZXRUb3ArJ3B4JzsKICAgICAgYy5zdHlsZS5sZWZ0ID0gJzMzcHgnOwoKICAgICAgY29uc3QgY3R4ID0gYy5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjdHguY2FudmFzLndpZHRoID0gZS5jaGFydC53aWR0aC0zMzsKICAgICAgY3R4LmNhbnZhcy5oZWlnaHQgPSBlLmNoYXJ0LmhlaWdodDsKICAgICAgdGhpcy5zdGFydHkgPSBlLmNoYXJ0LnNjYWxlc1sneS1heGlzLTAnXS50b3AKICAgICAgdGhpcy5zdG9weSA9IGUuY2hhcnQuc2NhbGVzWyd5LWF4aXMtMCddLmJvdHRvbS0zNwogICAgICB0aGlzLmNoYXJ0d2lkdGggPSBlLmNoYXJ0LmNoYXJ0QXJlYS5yaWdodCAtIGUuY2hhcnQuY2hhcnRBcmVhLmxlZnQrNQogICAgICB0aGlzLm92ZXJsYXkgPSBjdHg7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app >\n    <v-main>\n      <audio src=\"@/assets/song2.mp3\" id=\"audio\" crossorigin=\"anonymous\" ref=\"audio\"></audio>\n      <v-container fluid>\n        <div\n          class=\"text-h6 transition-swing text-center mt-6\"\n        >\n          Analyze and Select samples from audio files\n       </div>\n       <div\n         class=\"caption transition-swing text-center mb-6\"\n       >\n         Yumeji's Theme sample data\n      </div>\n      <div class=\"d-flex justify-center mb-3 mt-1\">\n        <v-btn @click=\"selectable=true;pause();\">Create sample</v-btn>\n        <v-btn v-if=\"!playing\" @click=\"play()\" @keyup.prevent=\"(e) => event.preventDefault()\" style=\"z-index:1\" class=\"mt-n4 mx-n2 elevation-2\" fab large >\n          <v-icon large color=\"green darken-1\">mdi-play</v-icon>\n        </v-btn>\n        <v-btn v-else @click=\"pause();\" @keyup.prevent=\"(e) => event.preventDefault()\" style=\"z-index:1\" class=\"mt-n4 mx-n2 elevation-2\" fab large >\n          <v-icon large color=\"red darken-2\">mdi-pause</v-icon>\n        </v-btn>\n        <v-btn style=\"z-index:0\" @click=\"clearAll\">Clean samples</v-btn>\n      </div>\n        <v-card  flat class=\"mx-auto my-auto\" :width=\"width*0.7\">\n\n          <BarChart :height=\"190\" :updateChart=\"updateBarChart\" :dataarray=\"dataArray\"/>\n\n          <LineChart\n          :chartData=\"data\"\n          :options=\"options\"\n          :range=\"range\"\n          :height=\"400\"\n          @setrange=\"setRange\"\n          @chartobject=\"overlayLayer\" refs=\"chart\" id=\"chart\" @start=\"startSelection\" @movement=\"movementSelection\" @stop=\"stopSelection\" :selectable=\"selectable\"\n          ref=\"linechart\"\n          @goToFrame=\"goToFrame\"\n          />\n\n            <canvas id=\"overlay\"\n            width=\"1200\"\n            height=\"400\"\n            class=\"selectable\"\n            @mousedown=\"startSelection\"\n            @mousemove=\"movementSelection\"\n            @mouseup=\"stopSelection\"\n            ref=\"overlaychart\"\n            />\n\n\n          <RangeSlider @setrange=\"setRange\" :min=\"datasetstart\" :max=\"datasetend\" :width=\"width*0.9\"/>\n\n        </v-card>\n\n\n      </v-container>\n\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport BarChart from './components/BarChart.vue'\nimport RangeSlider from './components/RangeSlider.vue'\nimport LineChart from './components/LineChart.vue'\n\nimport moment from 'moment'\n\nexport default {\n  name: 'App',\n  components: {\n    BarChart,\n    LineChart,\n    RangeSlider\n  },\n  data: () => ({\n    options: {\n      elements: {\n          point:{\n              radius: 0\n          }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      scales: {\n        yAxes: [\n          {\n            gridLines: {\n              display: true,\n              offsetGridLines: false,\n            },\n          }],\n          xAxes: [{\n            gridLines: {\n              display: true,\n              offsetGridLines: false,\n              zeroLineWidth: 2,\n              tickMarkLength: 5,\n\n            },\n            ticks: {\n                padding: 10,\n            }\n          }]\n      },\n      legend: {\n          display: false,\n      },\n      animation: {\n        duration: 0\n      }\n    },\n    data: {\n      labels: [],\n      datasets: [{\n          label: 'Sonometria 1',\n          data: [],\n          fill: true,\n        }\n      ]\n    },\n    selectable: false,\n    selectionRect: {\n      w: 0,\n      startX: 0,\n      startY: 0,\n      startIndex: null,\n      stopIndex: null\n    },\n    overlay: null,\n    labels: null,\n    dataset: null,\n    datasetstart: 0,\n    datasetend: 360,\n    range: [0,360],\n    width: window.innerWidth,\n    updateBarChart: false,\n    backgroundcolor: 'hsla(2, 12%, 50%,0.4)',\n    bordercolor: 'hsla(2, 12%, 50%,0.4)',\n    rangeselections: [],\n    dataArray: null,\n    audio: null,\n    source: null,\n    analyser: null,\n    analyserinterval: null,\n    starty: null,\n    stopy: null,\n    chartwidth: null,\n    motion: null,\n    playing: false,\n    overlaybtn: true,\n  }),\n  mounted () {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    this.audio = document.querySelector('audio');\n    this.source = audioCtx.createMediaElementSource(this.audio);\n\n    let _this = this;\n\n    // We fetch then process the file, we get Db levels of the whole audiofile\n\n    fetch(require('@/assets/song2.mp3'))\n      .then(function(resp) {return resp.arrayBuffer()})\n      .then(audioCtx.decodeAudioData.bind(audioCtx))\n      .then(function(buffer) {\n        let channel = buffer.getChannelData(0);\n\n        let points = [0];\n        let duration = buffer.duration;\n\n        for(let x = 1, i, v; x < duration; x++) {\n          i = ((x / duration) * channel.length)|0;\n          v = Math.abs(getdB(channel, i, 440));\n          points.push(v);\n        }\n        _this.setProccessedData(duration,points);\n        // calculates RMS per window and returns normalized dB\n        function getdB(buffer, pos, winSize) {\n          let sum = 0;\n          for(let v, i = pos - winSize; i <= pos; i++) {\n            v = i < 0 ? 0 : buffer[i];\n            sum += v * v;\n          }\n          let rms = Math.sqrt(sum / winSize);  // corrected!\n          return .4*Math.log10(rms);\n        }\n    });\n\n    //Create analyser, connect it to source and destination and create buffer array\n    this.analyser = audioCtx.createAnalyser();\n    this.source.connect(this.analyser);\n    this.analyser.connect(audioCtx.destination);\n    this.analyser.smoothingTimeConstant= 0.7\n    this.analyser.fftSize = 64; //Sample rate is 44100hz, we have enough accuracy with 64 .\n\n\n\n    //We are adding keydown control\n    window.addEventListener('keydown', this.switcher);\n  },\n  destroyed () {\n    window.removeEventListener('keydown', this.switcher);\n  },\n  methods: {\n    switcher(e) {\n      if(e.code === 'Space') {\n        if(this.audio.paused) {\n          this.play();\n        }\n        else {\n          this.pause();\n        }\n      }\n      else if(e.code === 'ArrowRight') {\n        this.audio.currentTime += 3;\n        let x = this.chartwidth*this.audio.currentTime / this.source.mediaElement.duration ;\n        this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n        this.overlay.fillRect(x,this.starty,-6,this.stopy);\n      }\n      else if(e.code === 'ArrowLeft') {\n        this.audio.currentTime -= 3;\n        let x = this.chartwidth*this.audio.currentTime / this.source.mediaElement.duration ;\n        this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n        this.overlay.fillRect(x,this.starty,-6,this.stopy);\n      }\n    },\n    play() {\n      this.playing = true;\n      this.audio.play();\n\n      //let labels = [\"20Hz\", \"25 Hz\", \"31.5 Hz\", \"40 Hz\", \"50 Hz\", \"63 Hz\", \"80 Hz\", \"100 Hz\", \"125 Hz\", \"160 Hz\", \"200 Hz\", \"250 Hz\", \"315 Hz\", \"400 Hz\", \"500 Hz\", \"630 Hz\", \"800 Hz\", \"1000 Hz\", \"1250 Hz\", \"1600 Hz\", \"2000 Hz\", \"2500 Hz\", \"3150 Hz\", \"4000 Hz\", \"5000 Hz\", \"6300 Hz\", \"8000 Hz\", \"10 kHz\", \"12,5 kHz\", \"16 kHz\", \"20 kHz\"];\n      this.analyserinterval = setInterval(() => {\n        let buffer = this.analyser.frequencyBinCount;\n        this.dataArray = new Uint8Array(buffer);\n        this.analyser.getByteFrequencyData(this.dataArray);\n        this.updateBarChart = !this.updateBarChart;\n      }, 90);\n      this.motion = window.requestAnimationFrame(this.progressBar)\n      //this.motion = window.requestAnimationFrame(this.progressBar);\n    },\n    pause() {\n      this.playing = false;\n      this.audio.pause();\n      clearInterval(this.analyserinterval);\n      window.cancelAnimationFrame(this.motion);\n    },\n    goToFrame(point) {\n      if(!this.selectable) {\n        this.audio.currentTime= (point._index+this.range[0]);\n        let x = (point._index/(this.range[1]-this.range[0])) * this.chartwidth;\n        this.overlay.globalAlpha = 0.5;\n        this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n        this.overlay.fillRect(x,this.starty,-6,this.$refs.linechart._data._chart.scales['x-axis-0'].top-7);\n      }\n    },\n    progressBar() {\n      if(!this.audio.paused) {\n          let x = ((this.source.mediaElement.currentTime-this.range[0]) / (this.range[1]-this.range[0])) * this.chartwidth;\n          this.overlay.globalAlpha = 0.5;\n          this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n          this.overlay.fillRect(x,this.starty,-6,this.$refs.linechart._data._chart.scales['x-axis-0'].top-7);\n          window.requestAnimationFrame(this.progressBar)\n      }\n      else {\n        let x = ((this.source.mediaElement.currentTime-this.range[0]) / (this.range[1]-this.range[0])) * this.chartwidth;\n        this.overlay.globalAlpha = 0.5;\n        this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n        this.overlay.fillRect(x,this.starty,-6,this.$refs.linechart._data._chart.scales['x-axis-0'].top-7);\n      }\n    },\n    setProccessedData(duration,points) {\n      this.datasetend = Math.floor(duration);\n      this.range = [0,Math.floor(duration)];\n      this.labels = this.dBLabels();\n      this.dataset = this.dBData(points);\n      this.backgroundcolor = 'hsl(0, 0%, 53%,0.2)'\n      this.data = {\n        labels: this.labels,\n        datasets: [{\n            label: 'Sonometria 1',\n            data: this.dataset,\n            borderColor: this.bordercolor,\n            backgroundColor: this.backgroundcolor,\n            borderWidth: 2,\n            fill: true,\n          },\n        ]\n      }\n    },\n    dBData(points) {\n      let data = [];\n      for(let i=this.datasetstart; i<this.datasetend; i++) {\n        data.push(points[i]);\n      }\n      return data\n    },\n    dBLabels() {\n      let labels = [];\n      for(let i=this.datasetstart; i<this.datasetend; i++) {\n        labels.push(moment().startOf('day').add(1*i, 'seconds').format('H:mm:ss'))\n      }\n      return labels\n    },\n    clearAll() {\n      let labels = this.labels.slice(this.range[0], this.range[1]+1);\n      let dataset = this.dataset.slice(this.range[0],this.range[1]+1);\n      this.rangeselections = [];\n      this.data = {\n        labels: labels,\n        datasets: [{\n            label: 'Sonometria 1',\n            data: dataset,\n            borderColor: this.bordercolor,\n            borderWidth: 2,\n            backgroundColor: this.backgroundcolor,\n            fill: true\n          }\n        ]\n      };\n    },\n    setRange(a) {\n      let start = a[0];\n      let end = a[1];\n      this.range = a;\n      let labels = this.labels.slice(start, end+1);\n      let datasets = [];\n      datasets.push(this.dataset.slice(start,end+1));\n      for(let i=0; i<this.rangeselections.length; i++) {\n        let selection = this.dataset.slice(this.rangeselections[i],this.rangeselections[i+1]+1);\n        let firstpart = Array(this.rangeselections[i]).fill(null);\n        let secondpart = Array(this.datasetend-this.rangeselections[i+1]).fill(null);\n        let d = firstpart.concat(selection).concat(secondpart)\n        datasets.push(d.slice(start,end+1));\n        i = i+1;\n      }\n      let backgrounds = [this.backgroundcolor, \"#FDD8358C\", \"#B39DDB8C\", \"#9FA8DA8C\", \"#EF9A9A8C\", \"#F48FB18C\", \"#CE93D88C\",'#80CBC48C','#BCAAA48C']\n      let sliceddatasets = [];\n      for(let i=0;i<datasets.length;i++) {\n        sliceddatasets.push(\n          {\n            data: datasets[i],\n            borderColor: this.bordercolor,\n            backgroundColor: backgrounds[i%backgrounds.length],\n            borderWidth: 2,\n            fill: true\n          }\n        )\n      }\n      this.data = {\n        labels: labels,\n        datasets: sliceddatasets\n      };\n      let x = ((this.source.mediaElement.currentTime-this.range[0]) / (this.range[1]-this.range[0])) * this.chartwidth;\n      this.overlay.globalAlpha = 0.5;\n      this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n      this.overlay.fillRect(x,this.starty,-6,this.$refs.linechart._data._chart.scales['x-axis-0'].top-7);\n    },\n    //This next three functions are handling user inputs when selecting areas of the chart\n    startSelection(e,point) {\n      this.selectionRect.startIndex = point._index+this.range[0];\n      this.selectionRect.startX = point._view.x;\n      this.selectionRect.startY = this.starty;\n    },\n    movementSelection(evt,drag,point) {\n      if (drag && this.selectionRect.stopIndex !== point._index && this.selectionRect.startIndex !== null) {\n        this.selectionRect.stopIndex = point._index+this.range[0];\n        this.selectionRect.w = (point._view.x) - this.selectionRect.startX;\n        this.overlay.globalAlpha = 0.5;\n        this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n        this.overlay.fillRect(this.selectionRect.startX-34,\n          this.starty,\n          this.selectionRect.w,\n          this.stopy);\n      }\n      else if(this.selectionRect.startIndex == null) {\n        this.overlay.globalAlpha = 0.5;\n        let x = point._view.x;\n        console.log(x)\n        console.log(point._index)\n\n        this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n        this.overlay.fillRect(x-34,this.starty,2,this.stopy);\n      }\n    },\n    stopSelection() {\n      this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n      this.addNewSelection(Math.min(this.selectionRect.startIndex,this.selectionRect.stopIndex), Math.max(this.selectionRect.startIndex,this.selectionRect.stopIndex) )\n      this.selectionRect = {\n        w: 0,\n        startX: 0,\n        startY: 0,\n        startIndex: null,\n        stopIndex: null\n      };\n      this.selectable = false;\n\n\n    },\n    addNewSelection(min,max) {\n      this.rangeselections.push(min);\n      this.rangeselections.push(max);\n      this.setRange(this.range);\n      this.audio.currentTime= (min);\n      let x = ((min-this.range[0]) / (this.range[1]-this.range[0])) * this.chartwidth;\n      this.overlay.globalAlpha = 0.5;\n      this.overlay.clearRect(0, 0, this.overlay.canvas.width, this.overlay.canvas.height);\n      this.overlay.fillRect(x,this.starty,-6,this.$refs.linechart._data._chart.scales['x-axis-0'].top-7);\n    },\n    overlayLayer(e) {\n      const c = document.getElementById('overlay');\n\n      c.style.position = \"absolute\";\n      c.style.top = e.canvas.offsetTop+'px';\n      c.style.left = '33px';\n\n      const ctx = c.getContext(\"2d\");\n      ctx.canvas.width = e.chart.width-33;\n      ctx.canvas.height = e.chart.height;\n      this.starty = e.chart.scales['y-axis-0'].top\n      this.stopy = e.chart.scales['y-axis-0'].bottom-37\n      this.chartwidth = e.chart.chartArea.right - e.chart.chartArea.left+5\n      this.overlay = ctx;\n    }\n  }\n}\n</script>\n\n<style>\n.selectable {\n  pointer-events:none;\n}\n</style>\n"]}]}