(function(t){function e(e){for(var s,i,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);h&&h(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/audio-analysis/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=n,t.exports=r,r.id="4678"},"4ea3":function(t,e,a){t.exports=a.p+"media/song2.fa416925.mp3"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,r,n=a("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",[s("audio",{ref:"audio",attrs:{src:a("4ea3"),id:"audio",crossorigin:"anonymous"}}),s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-h6 transition-swing text-center mt-6"},[t._v(" Analyze and Select samples from audio files ")]),s("div",{staticClass:"caption transition-swing text-center mb-6"},[t._v(" Yumeji's Theme sample data ")]),s("div",{staticClass:"d-flex justify-center mb-3 mt-1"},[s("v-btn",{on:{click:function(e){t.selectable=!0,t.pause()}}},[t._v("Create sample")]),t.playing?s("v-btn",{staticClass:"mt-n4 mx-n2 elevation-2",staticStyle:{"z-index":"1"},attrs:{fab:"",large:""},on:{click:function(e){return t.pause()},keyup:function(e){return e.preventDefault(),function(e){return t.event.preventDefault()}()}}},[s("v-icon",{attrs:{large:"",color:"red darken-2"}},[t._v("mdi-pause")])],1):s("v-btn",{staticClass:"mt-n4 mx-n2 elevation-2",staticStyle:{"z-index":"1"},attrs:{fab:"",large:""},on:{click:function(e){return t.play()},keyup:function(e){return e.preventDefault(),function(e){return t.event.preventDefault()}()}}},[s("v-icon",{attrs:{large:"",color:"green darken-1"}},[t._v("mdi-play")])],1),s("v-btn",{staticStyle:{"z-index":"0"},on:{click:t.clearAll}},[t._v("Clean samples")])],1),s("v-card",{staticClass:"mx-auto my-auto",attrs:{flat:"",width:.7*t.width}},[s("BarChart",{attrs:{height:190,updateChart:t.updateBarChart,dataarray:t.dataArray}}),s("LineChart",{ref:"linechart",attrs:{id:"chart",chartData:t.data,range:t.range,height:400,selectable:t.selectable},on:{setrange:t.setRange,chartobject:t.overlayLayer,start:t.startSelection,movement:t.movementSelection,stop:t.stopSelection,goToFrame:t.goToFrame}}),s("canvas",{staticClass:"selectable",attrs:{id:"overlay"},on:{mousedown:t.startSelection,mousemove:t.movementSelection,mouseup:t.stopSelection}}),s("RangeSlider",{attrs:{min:t.datasetstart,max:t.datasetend,width:.9*t.width},on:{setrange:t.setRange}})],1)],1)],1)],1)},o=[],l=(a("99af"),a("cb29"),a("fb6a"),a("6b93"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("3835")),c=a("1fca"),h={extends:c["a"],props:["updateChart","dataarray"],data:function(){return{options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{gridLines:{display:!0,offsetGridLines:!1},ticks:{min:0,max:255,stepSize:15}}],xAxes:[{gridLines:{display:!1,offsetGridLines:!1}}]},animation:{duration:0}},data:{labels:["20Hz","25 Hz","31.5 Hz","40 Hz","50 Hz","63 Hz","80 Hz","100 Hz","125 Hz","160 Hz","200 Hz","250 Hz","315 Hz","400 Hz","500 Hz","630 Hz","800 Hz","1000 Hz","1250 Hz","1600 Hz","2000 Hz","2500 Hz","3150 Hz","4000 Hz","5000 Hz","6300 Hz","8000 Hz","10 kHz","12,5 kHz","16 kHz","20 kHz"],datasets:[{label:"dB(A)",data:[7,11,5,8,3,7],borderWidth:1}]},colors:null}},mounted:function(){this.getArrayOfColors();for(var t=[],e=0;e<31;e++)t.push(Math.floor(100*Math.random()));this.data={labels:["20Hz","25 Hz","31.5 Hz","40 Hz","50 Hz","63 Hz","80 Hz","100 Hz","125 Hz","160 Hz","200 Hz","250 Hz","315 Hz","400 Hz","500 Hz","630 Hz","800 Hz","1000 Hz","1250 Hz","1600 Hz","2000 Hz","2500 Hz","3150 Hz","4000 Hz","5000 Hz","6300 Hz","8000 Hz","10 kHz","12,5 kHz","16 kHz","20 kHz"],datasets:[{label:"dB(A)",data:this.dataarray,borderColor:"#222222",borderWidth:1,backgroundColor:this.colors}]},this.renderChart(this.data,this.options)},destroyed:function(){},methods:{randomNum:function(){return Math.floor(100*Math.random())},waveToHue:function(t){var e=270*(650-t)/250,a=270*(700-t)/250;return e>0?"hsl("+e+","+a+"50%,50%)":"hsl(0,50%,50%)"},getArrayOfColors:function(){for(var t=[20,25,31,40,50,63,80,100,125,160,200,250,315,400,500,630,800,1e3,1250,1600,2e3,2500,3150,4e3,5e3,6300,8e3,1e4,12e3,16e3,2e4],e=270/(t.length+1),a=[],s=0;s<t.length;s++)a.push(this.spectral_color(420+s*e));this.colors=a},spectral_color:function(t){var e=0,a=0,s=0,r=0;t>=400&&t<410?(e=(t-400)/10,a=.33*e-.2*e*e):t>=410&&t<475?(e=(t-410)/65,a=.14-.13*e*e):t>=545&&t<595?(e=(t-545)/50,a=1.98*e-e*e):t>=595&&t<650?(e=(t-595)/55,a=.98+.06*e-.4*e*e):t>=650&&t<700&&(e=(t-650)/50,a=.65-.84*e+.2*e*e),t>=415&&t<475?(e=(t-415)/60,s=.8*e*e):t>=475&&t<590?(e=(t-475)/115,s=.8+.76*e-.8*e*e):t>=585&&t<639&&(e=(t-585)/54,s=.84-.84*e),t>=400&&t<475?(e=(t-400)/75,r=2.2*e-1.5*e*e):t>=475&&t<560&&(e=(t-475)/85,r=.7-e+.3*e*e);var n=u(Math.round(254*a),Math.round(254*s),Math.round(254*r)),i=Object(l["a"])(n,3),o=i[0],c=i[1],h=i[2],d=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,170);function u(t,e,a){t/=255,e/=255,a/=255;var s,r,n=Math.max(t,e,a),i=Math.min(t,e,a),o=(n+i)/2;if(n==i)s=r=0;else{var l=n-i;switch(r=o>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-a)/l+(e<a?6:0);break;case e:s=(a-t)/l+2;break;case a:s=(t-e)/l+4;break}s/=6}return[Math.floor(360*s),Math.floor(100*r),Math.floor(100*o)]}return d.addColorStop(0,"hsl("+o+","+.1*c+"%,"+h+"%)"),d.addColorStop(.3,"hsl("+o+","+.3*c+"%,"+h+"%)"),d.addColorStop(1,"hsl(214, 21%, 45%)"),d}},watch:{updateChart:function(){this.data={labels:["20Hz","25 Hz","31.5 Hz","40 Hz","50 Hz","63 Hz","80 Hz","100 Hz","125 Hz","160 Hz","200 Hz","250 Hz","315 Hz","400 Hz","500 Hz","630 Hz","800 Hz","1000 Hz","1250 Hz","1600 Hz","2000 Hz","2500 Hz","3150 Hz","4000 Hz","5000 Hz","6300 Hz","8000 Hz","10 kHz","12,5 kHz","16 kHz","20 kHz"],datasets:[{label:"dB(A)",data:this.dataarray,borderColor:"#222222",borderWidth:1,backgroundColor:this.colors}]},this.renderChart(this.data,this.options)}}},d=h,u=a("2877"),f=Object(u["a"])(d,s,r,!1,null,null,null),v=f.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:"",color:"transparent"}},[a("v-card-text",[a("v-row",[a("v-col",{staticClass:"pl-4 pr-0"},[a("v-range-slider",{staticClass:"align-center",attrs:{max:t.max,min:t.min,step:t.step,color:"red lighten-3","track-color":"grey","hide-details":""},on:{change:function(e){return t.$emit("setrange",t.range)}},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)],1)],1)],1)},p=[],m=(a("a9e3"),{props:{min:Number,max:Number,width:Number},data:function(){return{step:1,range:[this.min,this.max]}},computed:{start:function(){return Math.floor(this.range[0]/12)+":"+this.range[0]%12/.2}},mounted:function(){}}),y=m,g=a("6544"),j=a.n(g),z=a("b0af"),H=a("99d9"),w=a("62ad"),x=a("5963"),k=a("0fd9"),C=Object(u["a"])(y,b,p,!1,null,null,null),A=C.exports;j()(C,{VCard:z["a"],VCardText:H["a"],VCol:w["a"],VRangeSlider:x["a"],VRow:k["a"]});var _,R,S=c["c"].reactiveProp,L={extends:c["b"],mixins:[S],props:{range:Array,selectable:Boolean,chartData:Object},data:function(){return{drag:!1,options:{elements:{point:{radius:0}},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{gridLines:{display:!0,offsetGridLines:!1}}],xAxes:[{gridLines:{display:!0,offsetGridLines:!1,zeroLineWidth:2,tickMarkLength:5},ticks:{padding:10}}]},legend:{display:!1},animation:{duration:0}}}},mounted:function(){this.renderChart(this.chartData,this.options),this.$emit("chartobject",this.$data._chart),this.$data._chart.canvas.addEventListener("pointerdown",this.goToFrame)},methods:{start:function(t){this.$emit("start",t,this.$data._chart.getElementsAtXAxis(t)[0])},movement:function(t){this.$emit("movement",t,this.drag,this.$data._chart.getElementsAtXAxis(t)[0])},stop:function(){this.$emit("stop"),this.drag=!1,this.$data._chart.canvas.removeEventListener("pointerdown",this.handleclick),this.$data._chart.canvas.removeEventListener("pointermove",this.movement),this.$data._chart.canvas.removeEventListener("pointerup",this.stop)},goToFrame:function(t){this.$emit("goToFrame",this.$data._chart.getElementsAtXAxis(t)[0])}},watch:{selectable:function(t){t&&(this.drag=!0,this.$data._chart.canvas.addEventListener("pointerdown",this.start),this.$data._chart.canvas.addEventListener("pointermove",this.movement),this.$data._chart.canvas.addEventListener("pointerup",this.stop))}}},M=L,B=Object(u["a"])(M,_,R,!1,null,null,null),$=B.exports,E=a("c1df"),O=a.n(E),T={name:"App",components:{BarChart:v,LineChart:$,RangeSlider:A},data:function(){return{data:{labels:[],datasets:[{label:"Sonometria 1",data:[],fill:!0}]},selectable:!1,selectionRect:{w:0,startX:0,startY:0,startIndex:null,stopIndex:null},overlay:null,labels:null,dataset:null,datasetstart:0,datasetend:360,range:[0,360],width:window.innerWidth,updateBarChart:!1,backgroundcolor:"hsla(2, 12%, 50%,0.4)",bordercolor:"hsla(2, 12%, 50%,0.4)",rangeselections:[],dataArray:null,audioCtx:null,audio:null,source:null,analyser:null,analyserinterval:null,starty:null,stopy:null,chartwidth:null,motion:null,playing:!1}},mounted:function(){var t=new(window.AudioContext||window.webkitAudioContext);this.audioCtx=t,this.audio=document.querySelector("audio"),this.source=t.createMediaElementSource(this.audio);var e=this;fetch(a("4ea3")).then((function(t){return t.arrayBuffer()})).then(t.decodeAudioData.bind(t)).then((function(t){for(var a,s,r=t.getChannelData(0),n=[0],i=t.duration,o=1;o<i;o++)a=o/i*r.length|0,s=Math.abs(l(r,a,440)),n.push(s);function l(t,e,a){for(var s,r=0,n=e-a;n<=e;n++)s=n<0?0:t[n],r+=s*s;var i=Math.sqrt(r/a);return.4*Math.log10(i)}e.setProccessedData(i,n)})),this.analyser=t.createAnalyser(),this.source.connect(this.analyser),this.analyser.connect(t.destination),this.analyser.smoothingTimeConstant=.7,this.analyser.fftSize=64,window.addEventListener("keydown",this.switcher)},destroyed:function(){window.removeEventListener("keydown",this.switcher)},methods:{switcher:function(t){if("Space"===t.code)this.audio.paused?this.play():this.pause();else if("ArrowRight"===t.code){this.audio.currentTime+=3;var e=this.chartwidth*this.audio.currentTime/this.source.mediaElement.duration;this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(e,this.starty,-6,this.stopy)}else if("ArrowLeft"===t.code){this.audio.currentTime-=3;var a=this.chartwidth*this.audio.currentTime/this.source.mediaElement.duration;this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(a,this.starty,-6,this.stopy)}},play:function(){var t=this;this.audioCtx.resume().then((function(){console.log("Playback resumed successfully")})),this.playing=!0,this.audio.play(),this.analyserinterval=setInterval((function(){var e=t.analyser.frequencyBinCount;t.dataArray=new Uint8Array(e),t.analyser.getByteFrequencyData(t.dataArray),t.updateBarChart=!t.updateBarChart}),60),this.motion=window.requestAnimationFrame(this.progressBar)},pause:function(){this.playing=!1,this.audio.pause(),clearInterval(this.analyserinterval),window.cancelAnimationFrame(this.motion)},goToFrame:function(t){if(!this.selectable){this.audio.currentTime=t._index+this.range[0];var e=t._index/(this.range[1]-this.range[0])*this.chartwidth;this.overlay.globalAlpha=.5,this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(e,this.starty,-6,this.$refs.linechart._data._chart.scales["x-axis-0"].top-7)}},progressBar:function(){if(this.audio.paused){var t=(this.source.mediaElement.currentTime-this.range[0])/(this.range[1]-this.range[0])*this.chartwidth;this.overlay.globalAlpha=.5,this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(t,this.starty,-6,this.$refs.linechart._data._chart.scales["x-axis-0"].top-7)}else{var e=(this.source.mediaElement.currentTime-this.range[0])/(this.range[1]-this.range[0])*this.chartwidth;this.overlay.globalAlpha=.5,this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(e,this.starty,-6,this.$refs.linechart._data._chart.scales["x-axis-0"].top-7),window.requestAnimationFrame(this.progressBar)}},setProccessedData:function(t,e){this.datasetend=Math.floor(t),this.range=[0,Math.floor(t)],this.labels=this.dBLabels(),this.dataset=this.dBData(e),this.backgroundcolor="hsl(0, 0%, 53%,0.2)",this.data={labels:this.labels,datasets:[{label:"Sonometria 1",data:this.dataset,borderColor:this.bordercolor,backgroundColor:this.backgroundcolor,borderWidth:2,fill:!0}]}},dBData:function(t){for(var e=[],a=this.datasetstart;a<this.datasetend;a++)e.push(t[a]);return e},dBLabels:function(){for(var t=[],e=this.datasetstart;e<this.datasetend;e++)t.push(O()().startOf("day").add(1*e,"seconds").format("H:mm:ss"));return t},clearAll:function(){var t=this.labels.slice(this.range[0],this.range[1]+1),e=this.dataset.slice(this.range[0],this.range[1]+1);this.rangeselections=[],this.data={labels:t,datasets:[{label:"Sonometria 1",data:e,borderColor:this.bordercolor,borderWidth:2,backgroundColor:this.backgroundcolor,fill:!0}]}},setRange:function(t){var e=t[0],a=t[1];this.range=t;var s=this.labels.slice(e,a+1),r=[];r.push(this.dataset.slice(e,a+1));for(var n=0;n<this.rangeselections.length;n++){var i=this.dataset.slice(this.rangeselections[n],this.rangeselections[n+1]+1),o=Array(this.rangeselections[n]).fill(null),l=Array(this.datasetend-this.rangeselections[n+1]).fill(null),c=o.concat(i).concat(l);r.push(c.slice(e,a+1)),n+=1}for(var h=[this.backgroundcolor,"#FDD8358C","#B39DDB8C","#9FA8DA8C","#EF9A9A8C","#F48FB18C","#CE93D88C","#80CBC48C","#BCAAA48C"],d=[],u=0;u<r.length;u++)d.push({data:r[u],borderColor:this.bordercolor,backgroundColor:h[u%h.length],borderWidth:2,fill:!0});this.data={labels:s,datasets:d};var f=(this.source.mediaElement.currentTime-this.range[0])/(this.range[1]-this.range[0])*this.chartwidth;this.overlay.globalAlpha=.5,this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(f,this.starty,-6,this.$refs.linechart._data._chart.scales["x-axis-0"].top-7)},startSelection:function(t,e){this.selectionRect.startIndex=e._index+this.range[0],this.selectionRect.startX=e._view.x,this.selectionRect.startY=this.starty},movementSelection:function(t,e,a){if(e&&this.selectionRect.stopIndex!==a._index&&null!==this.selectionRect.startIndex)this.selectionRect.stopIndex=a._index+this.range[0],this.selectionRect.w=a._view.x-this.selectionRect.startX,this.overlay.globalAlpha=.5,this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(this.selectionRect.startX-34,this.starty,this.selectionRect.w,this.stopy);else if(null==this.selectionRect.startIndex){this.overlay.globalAlpha=.5;var s=a._view.x;this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(s-34,this.starty,2,this.stopy)}},stopSelection:function(){this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.addNewSelection(Math.min(this.selectionRect.startIndex,this.selectionRect.stopIndex),Math.max(this.selectionRect.startIndex,this.selectionRect.stopIndex)),this.selectionRect={w:0,startX:0,startY:0,startIndex:null,stopIndex:null},this.selectable=!1},addNewSelection:function(t,e){this.rangeselections.push(t),this.rangeselections.push(e),this.setRange(this.range),this.audio.currentTime=t;var a=(t-this.range[0])/(this.range[1]-this.range[0])*this.chartwidth;this.overlay.globalAlpha=.5,this.overlay.clearRect(0,0,this.overlay.canvas.width,this.overlay.canvas.height),this.overlay.fillRect(a,this.starty,-6,this.$refs.linechart._data._chart.scales["x-axis-0"].top-7)},overlayLayer:function(t){var e=document.getElementById("overlay");e.style.position="absolute",e.style.top=t.canvas.offsetTop+"px",e.style.left="33px";var a=e.getContext("2d");a.canvas.width=t.chart.width-33,a.canvas.height=t.chart.height,this.starty=t.chart.scales["y-axis-0"].top,this.stopy=t.chart.scales["y-axis-0"].bottom-37,this.chartwidth=t.chart.chartArea.right-t.chart.chartArea.left+5,this.overlay=a}}},D=T,I=(a("034f"),a("7496")),F=a("8336"),P=a("a523"),V=a("132d"),q=a("f6c4"),N=Object(u["a"])(D,i,o,!1,null,null,null),W=N.exports;j()(N,{VApp:I["a"],VBtn:F["a"],VCard:z["a"],VContainer:P["a"],VIcon:V["a"],VMain:q["a"]});var X=a("f309"),G=a("eb2e"),Y=a.n(G);a("5363");n["a"].use(X["a"]);var U=new X["a"]({lang:{locales:{ca:Y.a},current:"ca"},icons:{iconfont:"mdi"}});n["a"].config.productionTip=!1,new n["a"]({vuetify:U,render:function(t){return t(W)}}).$mount("#app")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.9d0eb5a2.js.map